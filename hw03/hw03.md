Hw03
================
Xinyao Fan
2017-09-28

``` r
library(gapminder)
library(tidyverse)
```

    ## Loading tidyverse: ggplot2
    ## Loading tidyverse: tibble
    ## Loading tidyverse: tidyr
    ## Loading tidyverse: readr
    ## Loading tidyverse: purrr
    ## Loading tidyverse: dplyr

    ## Conflicts with tidy packages ----------------------------------------------

    ## filter(): dplyr, stats
    ## lag():    dplyr, stats

Task Menu
---------

**Q1** Get the maximum and minimum of GDP per capita for all continents.

``` r
out<-gapminder%>%
  group_by(continent)%>%
  summarise(max_gdpPercap=max(gdpPercap), min_gdpPercap=min(gdpPercap))
knitr::kable(out)
```

| continent |  max\_gdpPercap|  min\_gdpPercap|
|:----------|---------------:|---------------:|
| Africa    |        21951.21|        241.1659|
| Americas  |        42951.65|       1201.6372|
| Asia      |       113523.13|        331.0000|
| Europe    |        49357.19|        973.5332|
| Oceania   |        34435.37|      10039.5956|

**Q2** Look at the spread of GDP per capita within the continents.

``` r
out1<-gapminder%>%
  group_by(continent)%>%
  summarise(sd(gdpPercap), IQR=quantile(gdpPercap,0.75)-quantile(gdpPercap,0.25))
knitr::kable(out1)
```

| continent |  sd(gdpPercap)|        IQR|
|:----------|--------------:|----------:|
| Africa    |       2827.930|   1616.170|
| Americas  |       6396.764|   4402.431|
| Asia      |      14045.373|   7492.262|
| Europe    |       9355.213|  13248.301|
| Oceania   |       6358.983|   8072.258|

**Q3** Compute a trimmed mean of life expectancy for different years. Or a weighted mean, weighting by population. Just try something other than the plain vanilla mean.<br>

*trimmed mean*

``` r
out3<-gapminder%>%
  group_by(year)%>%
  summarise(mean_trim=mean(lifeExp,trim=0.2))
knitr::kable(out3)
```

|  year|  mean\_trim|
|-----:|-----------:|
|  1952|    47.74866|
|  1957|    50.64422|
|  1962|    53.12857|
|  1967|    55.63999|
|  1972|    58.12370|
|  1977|    60.38896|
|  1982|    62.47444|
|  1987|    64.48383|
|  1992|    65.89072|
|  1997|    66.84437|
|  2002|    67.77385|
|  2007|    69.17224|

*weighted mean*

``` r
out4<-gapminder%>%
  group_by(continent)%>%
  summarise(weighted_mean=weighted.mean(lifeExp,pop))
knitr::kable(out4)
```

| continent |  weighted\_mean|
|:----------|---------------:|
| Africa    |        50.59279|
| Americas  |        69.50691|
| Asia      |        61.11856|
| Europe    |        72.30718|
| Oceania   |        75.48954|

**Q4** How is life expectancy changing over time on different continents?

``` r
ggplot(gapminder, aes(year, lifeExp)) +
    facet_wrap(~ continent) +
    geom_point() +
    geom_smooth(se=FALSE, span=1, method="loess")
```

![](hw03_files/figure-markdown_github-ascii_identifiers/unnamed-chunk-6-1.png) \#\# Including P

You can also embed plots, for example:

![](hw03_files/figure-markdown_github-ascii_identifiers/pressure-1.png)

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
